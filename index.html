<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>â™¡ã‚­ãƒ£ãƒ©å­¦ç”Ÿè¨¼ãƒ•ã‚¡ã‚¯ãƒˆãƒªãƒ¼â™¡</title>
  <!-- SEOç”¨ -->
  <meta name="description" content="æ¨ã—ã‚­ãƒ£ãƒ©ã‚„ã‚ªãƒªã‚­ãƒ£ãƒ©ã®å­¦ç”Ÿè¨¼ãŒç°¡å˜ã«ä½œã‚Œã‚‹â™¡ãµã‚ãµã‚å¯æ„›ã„å­¦ç”Ÿè¨¼ãƒ¡ãƒ¼ã‚«ãƒ¼ã§ã™ã€‚ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã‚„SNSã‚·ã‚§ã‚¢æ©Ÿèƒ½ã‚‚ã‚ã‚Šï¼">
  <meta name="keywords" content="å­¦ç”Ÿè¨¼ãƒ¡ãƒ¼ã‚«ãƒ¼, ã‚­ãƒ£ãƒ©å­¦ç”Ÿè¨¼, æ¨ã—å­¦ç”Ÿè¨¼, å¯æ„›ã„, ã‚ªã‚¿æ´», ãƒ–ãƒ©ã‚¦ã‚¶ã‚¢ãƒ—ãƒª, ã‚·ã‚§ã‚¢, æ¨ã—æ´»">
  <meta name="author" content="mofu-mitsu">
  <!-- OGP -->
  <meta property="og:title" content="â™¡ã‚­ãƒ£ãƒ©å­¦ç”Ÿè¨¼ãƒ•ã‚¡ã‚¯ãƒˆãƒªãƒ¼â™¡">
  <meta property="og:description" content="ã‚ãªãŸã®æ¨ã—ã‚„ã‚ªãƒªã‚­ãƒ£ãƒ©ã®å­¦ç”Ÿè¨¼ãŒã‹ã‚ã„ãä½œã‚Œã¡ã‚ƒã†ï¼ç”»åƒä¿å­˜ï¼†ã‚·ã‚§ã‚¢ã‚‚ã§ãã‚‹ãƒ¡ãƒ¼ã‚«ãƒ¼">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://mofu-mitsu.github.io/Character-Student-ID-Factory/">
  <meta property="og:image" content="https://mofu-mitsu.github.io/Character-Student-ID-Factory/ogp.PNG">
  <meta property="og:site_name" content="ã‚‚ãµã¿ã¤å·¥æˆ¿">
  <!-- Twitterã‚«ãƒ¼ãƒ‰ -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="â™¡ã‚­ãƒ£ãƒ©å­¦ç”Ÿè¨¼ãƒ•ã‚¡ã‚¯ãƒˆãƒªãƒ¼â™¡">
  <meta name="twitter:description" content="ã‚ãªãŸã®æ¨ã—ã‚„ã‚ªãƒªã‚­ãƒ£ãƒ©ã®å­¦ç”Ÿè¨¼ãŒã‹ã‚ã„ãä½œã‚Œã¡ã‚ƒã†ï¼ç”»åƒä¿å­˜ï¼†ã‚·ã‚§ã‚¢ã‚‚ã§ãã‚‹ãƒ¡ãƒ¼ã‚«ãƒ¼">
  <meta name="twitter:image" content="https://mofu-mitsu.github.io/Character-Student-ID-Factory/ogp.png">
  <!-- ãƒ•ã‚¡ãƒ“ã‚³ãƒ³ -->
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link href="https://fonts.googleapis.com/css2?family=Kiwi+Maru:wght@400;700&display=swap" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <style>
    :root {
      --main: #ff69b4;
      --text: #6B4F3A;
      --bg: #fffaf0;
      --grid: url('https://www.transparenttextures.com/patterns/graphy.png');
      --border: #d8c4a8;
      --photo-bg: #e6f2ff;
      --dash: #b38b67;
    }
    body {margin:0;padding:20px 0;min-height:100vh;font-family:'Kiwi Maru',sans-serif;background:linear-gradient(#fff0f8,#ffe4f0);}
    .container {max-width:1100px;margin:0 auto;background:white;border-radius:24px;overflow:hidden;box-shadow:0 15px 40px rgba(255,105,180,0.25);}
    .header {background:linear-gradient(90deg,#ffb3d9,#ff69b4);color:white;text-align:center;padding:28px;font-size:30px;font-weight:bold;}
    .main {padding:35px;display:grid;grid-template-columns:1fr 640px;gap:50px;}
  
  /* â˜…â˜…â˜…â˜…â˜… ã‚¹ãƒãƒ›å°‚ç”¨ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆå®Œå…¨ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ç‰ˆ ï¼† 2åˆ—å´©ã—ä¿è¨¼ï¼‰ â˜…â˜…â˜…â˜…â˜… */
  @media (max-width: 900px) {
  
    /* æ¨ªå¹…åˆ¶å¾¡ã®å½±éŸ¿ã‚’æœ€å°é™ã« */
    body {
      margin: 0;
      padding: 0;
      overflow-x: hidden;
      width: 100%;
    }
  
    /* ğŸ”¥ ã“ã“ãŒæœ€é‡è¦ï¼šã‚¹ãƒãƒ›æ™‚ã¯ main ã‚’ â€œ1åˆ—â€ ã«ã™ã‚‹ï¼ï¼ */
    .main {
      display: flex !important;     /* grid â†’ flex ã«å¼·åˆ¶åˆ‡æ›¿ */
      flex-direction: column;       /* ç¸¦ä¸¦ã³ã«ã™ã‚‹ */
      gap: 30px;                    /* éš™é–“ã¯ã»ã©ã‚ˆã */
      padding: 20px;
    }
  
    /* å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ ã¯å¹…100%ã« */
    .form-area {
      width: 100%;
    }
  
    /* ã‚«ãƒ¼ãƒ‰ãƒ©ãƒƒãƒ‘ï¼ˆä¸­å¤®å¯„ã› & ãƒ•ãƒ«å¹…å¯¾å¿œï¼‰ */
    #card-wrapper {
      width: 100%;
      display: flex;
      justify-content: center;
      padding: 15px 0;
    }
  
    /* â˜…ã‚«ãƒ¼ãƒ‰ã‚’ã‚¹ãƒãƒ›å¹…ã«åˆã‚ã›ã¦è‡ªå‹•ç¸®å°â˜… */
    #card {
      width: 98%;              /* ç”»é¢ã«ãƒ”ãƒƒã‚¿ãƒª */
      height: auto;            /* è‡ªå‹•èª¿æ•´ */
      aspect-ratio: 640 / 400; /* å…ƒã®æ¯”ç‡ã‚’ç¶­æŒ */
      padding: 18px;
      transform: none !important; /* éå»ã®scaleã‚’ç„¡åŠ¹åŒ– */
    }
  
    /* ä¸Šã®ãƒãƒ¼ã¯ç¸¦ã« */
    .top-bar {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 6px;
      text-align: center;
    }
  
    .logo-img {
      position: static;
      width: 68px;
      height: 68px;
      margin-top: -6px;
    }
  
    .sub-right {
      padding-top: 0;
      text-align: center;
      font-size: 15px;
    }
  
    .name-area .name {
      font-size: 28px !important;
    }
  
    /* çœŸã‚“ä¸­ã®å†™çœŸï¼‹æƒ…å ±ã¯ç¸¦ä¸¦ã³ */
    .middle {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 18px;
      margin-top: 5px;
    }
  
    .photo-area {
      width: 70%;
      height: auto;
      aspect-ratio: 1 / 1;
    }
  
    /* æƒ…å ±æ¬„ã‚‚1åˆ—ã«å¼·åˆ¶ */
    .info-grid {
      grid-template-columns: 1fr !important;
      width: 100%;
      gap: 10px;
    }
  
    /* ã²ã¨ã“ã¨ãƒãƒ¼ã®ã¯ã¿å‡ºã—å¯¾ç­– */
    .oneline-bar {
      width: 100%;
      margin-top: 15px;
      padding: 15px;
      font-size: 16px;
    }
  
    .ad-section {
      margin-top: 40px !important;
    }
  }
    .form-area {background:#fffafa;padding:30px;border-radius:20px;border:3px dashed #ffd1dc;}
    label {display:block;margin:16px 0 6px;font-weight:bold;color:#b36c84;}
    input,textarea,select {width:100%;padding:12px;border:2px solid #ffd1dc;border-radius:10px;box-sizing:border-box;}
    input[type="file"]{display:none;}
    .file-btn {display:inline-block;background:var(--main);color:white;padding:13px 30px;border-radius:30px;cursor:pointer;font-weight:bold;box-shadow:0 5px 12px rgba(255,105,180,0.35);}
    .file-btn:hover{transform:translateY(-3px);}
    .file-info {margin-top:8px;color:#b36c84;font-size:14px;}
    button {background:var(--main);color:white;border:none;padding:13px 22px;border-radius:30px;font-weight:bold;cursor:pointer;margin:10px 6px 0 0;}

    #card {
      width:640px;height:400px;
      background:#fffaf0 var(--grid) repeat;
      background-size:30px 30px;
      border-radius:26px;padding:20px 28px 28px;
      box-shadow:0 18px 40px rgba(0,0,0,0.25);
      position:relative;color:var(--text);font-size:15.5px;line-height:1.6;
      display:flex;flex-direction:column;
    }
    .top-bar {
      display:grid;
      grid-template-columns:auto 1fr auto;
      align-items:start;
      gap:20px;
      margin-bottom:0;
      position:relative;
    }
    .school-title {font-size:26px;font-weight:bold;}
    .name-area {text-align:center;padding-top:0;}
    .name {font-size:36px!important;font-weight:bold;display:block;}
    .sub-right {text-align:right;font-size:16px;line-height:1.5;padding-top:60px;}
    .logo-img {
      position:absolute;
      top:-23px;
      right:-28px;
      width:80px;
      height:80px;
      object-fit:contain;
      z-index:10;
    }

    .middle {
      display:grid;
      grid-template-columns:240px 1fr;
      gap:30px;
      flex:1;
      margin-top:-10px;
    }
    .photo-area {
      width:240px;
      height:220px;
      background:var(--photo-bg);
      border:11px solid var(--border);
      border-radius:20px;
      overflow:hidden;
      box-shadow:0 8px 18px rgba(0,0,0,0.16);
    }
    .photo-area img {width:100%;height:100%;object-fit:cover;}

    .info-grid {
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:12px 25px;
      align-content:start;
      font-size:15.5px;
      margin-top:17px;
    }
    @media(max-width:900px){.info-grid{grid-template-columns:1fr;}}

    .oneline-bar {
      margin-top:10px;
      padding:18px 26px;
      background:rgba(255,255,255,0.9);
      border:3px dashed var(--dash);
      border-radius:18px;
      text-align:center;
      font-style:italic;
      font-size:18px;
      flex-shrink:0;
    }

    .footer {text-align:center;padding:35px;background:#fff0f5;}
    .footer a {color:var(--main);font-weight:bold;text-decoration:none;font-size:18px;}
    .ad-section {text-align:center;padding:20px;background:#fff0f5;border-top:2px dashed #ffd1dc;margin-top:20px;}
    .ad-title {font-weight:bold;color:#ff69b4;font-size:1.1em;margin-bottom:10px;}
    .ad-banner {display:flex;justify-content:center;gap:12px;flex-wrap:wrap;}
    .ad-banner img {border-radius:12px;box-shadow:0 4px 8px rgba(0,0,0,0.1);max-width:150px;}
  </style>
</head>
<body>

<div class="container">
  <div class="header">â™¡ ã‚­ãƒ£ãƒ©å­¦ç”Ÿè¨¼ãƒ•ã‚¡ã‚¯ãƒˆãƒªãƒ¼ â™¡</div>
  
  <div class="main">
    <div class="form-area">
      <label>å­¦æ ¡å</label><input.js type="text" id="school" placeholder="ä¾‹ï¼šã¨ã‚Šã®ä¸˜å­¦åœ’">
      <label>åå‰ï¼ˆãµã‚ŠãŒãªã‚‚å¯ï¼‰</label><input type="text" id="name" placeholder="ä¾‹ï¼šè©æ ç¾ç³ï¼ˆã¯ããˆã  ã¿ã‚Šã‚“ï¼‰">
      <label>åå‰ã®è‰²</label>
      <select id="nameColor">
        <option value="#d14a8a">ãƒ”ãƒ³ã‚¯ï¼ˆå¥³ã®å­å‘ã‘ï¼‰</option>
        <option value="#4169e1">é’ï¼ˆç”·ã®å­å‘ã‘ï¼‰</option>
        <option value="#8b4513">èŒ¶è‰²ï¼ˆä¸­æ€§çš„ï¼‰</option>
      </select>

      <label>æ€§åˆ¥ï¼ˆä»»æ„ï¼‰</label><input type="text" id="gender">
      <label>ãƒ¢ãƒãƒ¼ãƒ•ï¼ˆä»»æ„ï¼‰</label><input type="text" id="motif">

      <label>å­¦å¹´ãƒ»ã‚¯ãƒ©ã‚¹ï¼ˆä»»æ„ï¼‰</label><input type="text" id="grade">
      <label>å­¦ç±ç•ªå·ï¼IDï¼ˆä»»æ„ï¼‰</label><input type="text" id="studentId">
      <label>æ€§æ ¼ï¼ˆä»»æ„ï¼‰</label><input type="text" id="personality">
      <label>å®¹å§¿ï¼ˆä»»æ„ï¼‰</label><input type="text" id="appearance">
      <label>èª•ç”Ÿæ—¥ï¼ˆä»»æ„ï¼‰</label><input type="text" id="birthday">
      <label>è¡€æ¶²å‹ï¼ˆä»»æ„ï¼‰</label><input type="text" id="blood">
      <label>å‡ºèº«åœ°ï¼ˆä»»æ„ï¼‰</label><input type="text" id="from">
      <label>MBTIï¼ˆä»»æ„ï¼‰</label><input type="text" id="mbti">
      <label>å¥½ããªã‚‚ã®ï¼ˆä»»æ„ï¼‰</label><input type="text" id="like">
      <label>è‹¦æ‰‹ãªã‚‚ã®ï¼ˆä»»æ„ï¼‰</label><input type="text" id="hate">
      <label>ãã®ä»–ï¼ˆä»»æ„ï¼‰</label><input type="text" id="other">

      <label>ã²ã¨ã“ã¨ï¼ˆä»»æ„ï¼‰</label><textarea id="oneline" rows="3" placeholder="ãˆã¸ã¸â™¡ã‹ã¾ã£ã¦ãã‚Œãªãã‚ƒã‚¤ã‚¿ã‚ºãƒ©ã—ã¡ã‚ƒã†ãã€œ"></textarea>

      <label>é¡”å†™çœŸã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</label>
      <label class="file-btn">â™¡ ã‚­ãƒ£ãƒ©ç”»åƒã‚’é¸ã¶ â™¡<input type="file" id="photo" accept="image/*"></label>
      <div class="file-info" id="photoInfo"></div>

      <label>å³ä¸Šãƒ­ã‚´ç”»åƒï¼ˆä»»æ„ï¼‰</label>
      <label class="file-btn">â™¡ ãƒ­ã‚´ç”»åƒã‚’é¸ã¶ â™¡<input type="file" id="logo" accept="image/*"></label>
      <div class="file-info" id="logoInfo"></div>

      <div style="margin-top:30px;">
        <button onclick="update()">ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼æ›´æ–°</button>
        <button onclick="save()">ç”»åƒä¿å­˜â™¡</button>
        <button onclick="nativeShare()">å…±æœ‰ã™ã‚‹</button>
      </div>
    </div>

    <div style="display:flex;justify-content:center;align-items:start;">
      <!-- ã“ã“ã«ç¥ãƒ©ãƒƒãƒ‘ãƒ¼è¿½åŠ ï¼ï¼ -->
      <div id="card-wrapper">
        <div id="card">
          <div class="top-bar">
            <div class="school-title" id="prevSchool">å­¦ç”Ÿè¨¼</div>
            <div class="name-area">
              <div class="name" id="prevName">-</div>
            </div>
            <div class="sub-right">
              <div id="prevGenderLine">æ€§åˆ¥ï¼š<span id="prevGender">-</span></div>
              <div id="prevMotifLine">ãƒ¢ãƒãƒ¼ãƒ•ï¼š<span id="prevMotif">-</span></div>
            </div>
            <img src="" id="prevLogo" class="logo-img" style="display:none;">
          </div>

          <div class="middle">
            <div class="photo-area"><img src="" id="prevPhoto" style="display:none;"></div>
            <div class="info-grid" id="infoGrid"></div>
          </div>

          <div class="oneline-bar" id="prevOneline">ï¼</div>
        </div>
      </div>
    </div>
  </div>

  <!-- æ¥½å¤©ã‚¢ãƒ•ã‚£ãƒªã‚¨ã‚¤ãƒˆ -->
  <div class="ad-section">
    <p class="ad-title">â™¡ æ¨ã—æ´»ã«ãŠã™ã™ã‚ã‚°ãƒƒã‚º â™¡</p>
    <div class="ad-banner">
      <script type="text/javascript">rakuten_design="slide";rakuten_affiliateId="47f67ba0.34b43d0d.47f67ba1.f8c0f51e";rakuten_items="ctsmatch";rakuten_genreId="0";rakuten_size="468x160";rakuten_target="_blank";rakuten_theme="gray";rakuten_border="off";rakuten_auto_mode="on";rakuten_genre_title="off";rakuten_recommend="on";rakuten_ts="1763531694774";</script><script type="text/javascript" src="https://xml.affiliate.rakuten.co.jp/widget/js/rakuten_widget.js?20230106"></script>
    </div>
  </div>

  <div class="footer">
    <p><a href="https://mofu-mitsu.github.io/">TOPã«æˆ»ã‚‹</a></p>
  </div>
</div>

<script>
  function preview(file,target,infoId){
    if(!file)return;
    const reader=new FileReader();
    reader.onload=e=>{
      document.getElementById(target).src=e.target.result;
      document.getElementById(target).style.display='block';
    };
    reader.readAsDataURL(file);
    document.getElementById(infoId).textContent=`â™¡ ${file.name} ã‚’é¸æŠã—ã¾ã—ãŸ â™¡`;
  }
  document.getElementById('photo').addEventListener('change',e=>preview(e.target.files[0],'prevPhoto','photoInfo'));
  document.getElementById('logo').addEventListener('change',e=>preview(e.target.files[0],'prevLogo','logoInfo'));

  function update(){
    const school= document.getElementById('school').value.trim();
    document.getElementById('prevSchool').textContent=school?school+' å­¦ç”Ÿè¨¼':'å­¦ç”Ÿè¨¼';

    const name=document.getElementById('name').value.trim()||'-';
    const nameEl=document.getElementById('prevName');
    nameEl.textContent=name;
    nameEl.style.color=document.getElementById('nameColor').value;

    const gender=document.getElementById('gender').value.trim();
    document.getElementById('prevGenderLine').style.display=gender?'block':'none';
    document.getElementById('prevGender').textContent=gender||'-';

    const motif=document.getElementById('motif').value.trim();
    document.getElementById('prevMotifLine').style.display=motif?'block':'none';
    document.getElementById('prevMotif').textContent=motif||'-';

    const grid=document.getElementById('infoGrid');
    grid.innerHTML='';

    const pairs = [
      ['grade','studentId','å­¦å¹´ãƒ»ã‚¯ãƒ©ã‚¹','å­¦ç±ç•ªå·ï¼ID'],
      ['personality','appearance','æ€§æ ¼','å®¹å§¿'],
      ['birthday','blood','èª•ç”Ÿæ—¥','è¡€æ¶²å‹'],
      ['from','mbti','å‡ºèº«åœ°','MBTI'],
      ['like','hate','å¥½ããªã‚‚ã®','è‹¦æ‰‹ãªã‚‚ã®'],
      ['other',null,'ãã®ä»–','']
    ];

    pairs.forEach(([leftId,rightId,leftLabel,rightLabel])=>{
      const leftVal=document.getElementById(leftId).value.trim();
      const rightVal=rightId?document.getElementById(rightId).value.trim():'';
      if(leftVal || rightVal){
        const leftDiv=document.createElement('div');
        leftDiv.textContent=leftVal?`${leftLabel}ï¼š${leftVal}`:'ã€€';
        const rightDiv=document.createElement('div');
        rightDiv.textContent=rightVal?`${rightLabel}ï¼š${rightVal}`:'ã€€';
        grid.appendChild(leftDiv);
        grid.appendChild(rightDiv);
      }
    });

    const one=document.getElementById('oneline').value.trim();
    document.getElementById('prevOneline').textContent=one||'ï¼';
  }

  function save(){
    html2canvas(document.getElementById('card'),{scale:3,useCORS:true}).then(canvas=>{
      const a=document.createElement('a');
      a.download='studentcard.png';
      a.href=canvas.toDataURL();
      a.click();
    });
  }

  function nativeShare(){
    if(navigator.share){
      navigator.share({title:'ã‚­ãƒ£ãƒ©å­¦ç”Ÿè¨¼ä½œã£ãŸã‚ˆâ™¡',text:'è¦‹ã¦ã¿ã¦ã€œï¼',url:location.href});
    }else{
      alert('å…±æœ‰ã§ããªã„ã‚ˆã€œ');
    }
  }

  update();
</script>
</body>
</html>